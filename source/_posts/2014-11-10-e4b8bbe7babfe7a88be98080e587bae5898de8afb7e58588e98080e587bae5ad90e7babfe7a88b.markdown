---
author: admin
comments: true
date: 2014-11-10 03:13:31+00:00
layout: post
slug: '%e4%b8%bb%e7%ba%bf%e7%a8%8b%e9%80%80%e5%87%ba%e5%89%8d%e8%af%b7%e5%85%88%e9%80%80%e5%87%ba%e5%ad%90%e7%ba%bf%e7%a8%8b'
title: 主线程退出前请先退出子线程
wordpress_id: 486
categories:
- Tips
---

我们知道理论上如果一个进程的主线程退出，整个进程就会销毁，子线程自然也是要退出的。但是这并不意味着，程序退出的时候我们就能不问不管自己创建的子线程，因为不管他还真有可能出问题。下面是一个典型的主线程退出过程中，而子线程未退出，造成死锁整个进程的分析图，死锁在c runtime里，死锁原因看图便知，也不用太多解释了。

[![20141106094954](/uploads/2014/11/20141106094954.png)](/uploads/2014/11/20141106094954.png)
